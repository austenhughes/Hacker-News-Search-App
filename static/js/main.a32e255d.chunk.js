(this["webpackJsonphacker-news-search-app"]=this["webpackJsonphacker-news-search-app"]||[]).push([[0],{27:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(16),a=c.n(r),s=c(17),i=c(2),o=c(1);var l=function(){return Object(o.jsx)("div",{className:"nav",children:Object(o.jsxs)("div",{className:"btnBlock",children:[Object(o.jsx)("a",{className:"navBtn",href:"/hacker-news-search-app/#/search",children:"Search"}),Object(o.jsx)("a",{className:"navBtn",href:"/hacker-news-search-app/#/history",children:"History"})]})})},h=c(8),d=c.n(h),u=c(14),j=c(10),p=c(20);var m=function(e){var t="",c=Object(n.useState)({}),r=Object(p.a)(c,2),a=r[0],s=r[1];function i(){return new Promise((function(e){e(localStorage.getItem("searchAgain"))}))}function l(){return(l=Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:""!==(c=e.sent)&&(localStorage.setItem("searchAgain",""),t=c,h());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(document.querySelector("#list")),function(){if(""!==t){t=t}else t=a.value}();var c=localStorage.getItem("history")+" ,"+t;localStorage.setItem("history",c),fetch("https://hn.algolia.com/api/v1/search?query="+t+"&tags=story").then((function(e){return e.json()})).then((function(e){var t=e,c=t.hits;t=c,c.forEach((function(e){var t=e.title,c=e.url,n=document.createElement("div");n.setAttribute("id","history");var r=document.createElement("a"),a=document.createTextNode(c);r.appendChild(a),r.href=c;var s=document.createTextNode(t),i=document.createTextNode(c);n.appendChild(s),r.appendChild(i),document.getElementById("list").append(n),document.getElementById("list").append(r)}))}))}return function(){l.apply(this,arguments)}(),Object(o.jsxs)("div",{className:"searchbar",children:[Object(o.jsx)("div",{className:"bar",children:Object(o.jsxs)("div",{className:"shift",children:[Object(o.jsx)("input",{onChange:function(e){var t=e.target.value;s(Object(u.a)(Object(u.a)({},a),{},{value:t}))},value:e.value,name:"search",type:"text",className:"",placeholder:"search",id:"search"}),Object(o.jsx)("button",{onClick:h,className:"btn2",type:"button",value:"Search",children:"Search"})]})}),Object(o.jsx)("ul",{children:Object(o.jsx)("div",{className:"list",id:"list"})})]})};var b=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{}),Object(o.jsx)(m,{})]})};var f=function(){function e(){return new Promise((function(e){e(localStorage.getItem("history").split(","))}))}function t(){return(t=Object(j.a)(d.a.mark((function t(){var c,n,r,a,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:for(c=t.sent,n=1;n<c.length;n++)r=c[n],a=document.createElement("a"),s=document.createTextNode(r),a.appendChild(s),a.href="/hacker-news-search-app/#/search",a.onclick=function(){localStorage.setItem("searchAgain",this.innerHTML)},document.getElementById("historyList").append(a),i=document.createElement("br"),document.getElementById("historyList").append(i);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"record",children:Object(o.jsx)("ul",{children:Object(o.jsx)("div",{className:"historyList",id:"historyList"})})}),Object(o.jsx)("button",{onClick:function(){localStorage.setItem("history",""),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(document.querySelector("#historyList"))},className:"btn",type:"button",value:"clear",children:"Clear History"})]})};var v=function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{}),Object(o.jsx)(f,{})]})};c(27);var x=function(){return Object(o.jsx)(s.a,{children:Object(o.jsx)("div",{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{exact:!0,path:["/","/search"],children:Object(o.jsx)(b,{})}),Object(o.jsx)(i.a,{path:["/history"],children:Object(o.jsx)(v,{})})]})})})};a.a.render(Object(o.jsx)(x,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a32e255d.chunk.js.map